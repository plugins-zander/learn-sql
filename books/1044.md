# 第一范式(1NF)

 定义2.8  设R(U)是一个关系模式，U是关系R的属性集，若U中的每一个属性a的值域**只包含原子项**，即不可分割的数据项，则称R(U)属于第一范式，记为R(U)∈1NF。

  【例子】表2.17所示。该数据表所对应的关系模式不属于第一范式，因为其中每个元组在“学生人数”属性上的属性值都不是原子项，它们都可以再分，实际上它们都是由两个原子项复合而成。为将其转化为第一范式，需要将复合项（非原子项）分解为原子项即可，结果如表2.18所示。

 ![img](https://img2018.cnblogs.com/blog/1427277/201906/1427277-20190620164648472-481366496.png)

 

 

 

  【例2.6】假设有一个研究生信息管理系统，该系统涉及的信息主要包括导师信息、研究生信息以及所选课程信息（supervisor, student, course）等。设计了如下的一个关系模式：  SSC(学号, 姓名, 系别, 导师工号, 导师姓名, 导师职称, 课程名称, 课程成绩) 。

​     根据常识可以知道：

•             一位研究生只有一位导师（不含副导师），但一位导师可以指导多位研究生；

•             一位研究生可以选修多门课程，一门课程也可以被多位研究生选修；

•             一位研究生选修一门课程后有且仅有一个成绩；

•             不同的课程，课程名是不相同的，即课程名是唯一。

  

基于以上语义信息可以知道：

•   学号→{姓名, 系别}

•   学号→导师工号

•   导师工号→{导师姓名, 导师职称}

•   {学号, 课程名称}→课程成绩

Ø根据Armstrong公理及定理2.2可以推知：

  {学号, 课程名称}→{学号, 姓名, 系别, 导师工号, 导师姓名, 导师职称, 课程名称, 课程成绩}

Ø且可以进一步推知：

  {学号, 课程名称}     {学号, 姓名, 系别, 导师工号, 导师姓名, 导师职称, 课程名称, 课程成绩}

Ø根据定义2.7，{学号, 课程名称}是关系模式SSC的候选码，实际上是唯一的候选码，所以故只能选择它为模式的主码。

 

 

 

关系模式SSC存在的缺点：

•      数据冗余

​    关系中每个元组既包含研究生信息，也包含导师信息以及所选课程的信息。一位导师可指导多名研究生，每个研究生对应的元组都包含同一个导师的相同信息。一位导师带有多少名研究生就有多少条重复的导师信息。造成了数据冗余，如果数据量很大，就会浪费大量的存储空间，为这些数据的维护付出巨大的代价。

•      插入异常

​    假设某个老师刚刚被聘为研究生导师，但还没有招收学生（这种情况经常出现），这时也就没有他的研究生信息和研究生选修课程的信息，意味着“学号”和“课程名称”等属性的属性值为空（null）。如果这时在关系SSC中插入该导师的信息，则会产生异常。因为属性“学号”和“课程名称”是主码，其取值不能为空。这种异常就是插入异常。插入异常的存在使得添加导师信息的操作无法完成。

 

 

•             删除异常

​    假设某个导师刚招收了两名研究生，但过了一个学期以后，这两个研究生都因出国而注销学籍了。注销时，将这两个研究生对应的元组从关系SSC中删除（全部删除）。由于删除操作是以元组为单位进行的，所以导师信息也将全部被删除，以后就无法使用该导师的信息了，称为删除异常。

​    关系模式SSC还容易产生数据不一致等其他的一些问题。仅满足第一范式的关系模式确实还存在许多问题。人们在第一范式的基础上增加一些约束条件，从而得到第二范式。

 