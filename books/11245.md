# 快照

快照可用于报表。另外，如果源数据库出现用户错误，还可将源数据库恢复到创建快照时的状态。丢失的数据仅限于创建快照后数据库更新的数据。 

在SQL Server 2008中，创建数据库快照也使用CREATE DATABASE命令。语法格式如下：

```sql
CREATE DATABASE database_snapshot_name 
    	ON 
        	(
        		NAME = logical_file_name,
        		FILENAME = 'os_file_name' 
       	 ) [ ,...n ] 
    	AS SNAPSHOT OF source_database_name
[;]

```

```sql
【例2.14】  创建PXSCJ数据库的快照PXSCJ_01。
CREATE DATABASE PXSCJ_01
	ON
	(
		NAME=PXSCJ,
		FILENAME='D:\data\PXSCJ_01.mdf'
	)
	AS SNAPSHOT OF PXSCJ
GO
命令执行成功之后，在对象资源管理器中刷新“数据库”菜单栏，在“数据库”中展开“数据库快照”，就可以看见刚刚创建的数据库快照PXSCJ_01了。
删除数据库快照的方法和删除数据库的方法完全相同，可以使用界面方式删除，也可以使用命令方式删除，例如，
DROP DATABASE PXSCJ_01;


```







# MS分离与附加

## 查看数据库存在哪

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231550.png)



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231607.png)







## 分离

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231239.png)

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231317.png)



## 附加

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231332.png)

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231344.png)

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231400.png)



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231421.png)



## 查看

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191102231440.png)























