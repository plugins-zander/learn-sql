# 数据库系统的运行和维护

试运行结束并被证实符合设计要求后，数据库就可以正式投入使用。

数据库的正式使用标志着数据库开发阶段的基本结束，同时意味着数据库运行和维护阶段的开始。

数据库的运行和维护并不是数据库设计的终点，而是数据库设计的延续和提高。

数据库的日常运行和维护也是一项专业性很强的工作，需要很强的专业技术。维护工作不是普通的用户就能够胜任的，一般是由系统管理员（DBA）完成。这种工作就是软件产生品的售后服务。

 

 

在数据库的运行和维护阶段，DBA的主要工作包括：

1. 数据库的转储和恢复

一旦数据库正式投入使用，企业的相关数据将全部存入数据库（一般不会另记在纸质材料中）。如果数据库发生故障，可能会导致这些数据的丢失，从而造成企业的重大损失。为了尽量避免在数据库发生故障时造成数据丢失，DBA应当根据应用的具体要求指定相应的备份和恢复方案，保证一旦发生故障，能够尽快将数据库恢复到某一种一致性的最近状态，尽量减少损失。

数据库转储：数据库恢复技术，是指定期地把整个数据库复制到磁盘或者其他存储设备上保护起来的过程。数据库的转储和恢复是数据库运行维护中最重要的工作之一。

2. 数据库性能的检测、分析和改善

随着运行时间的增加，数据库的物理存储不断发生改变，加上数据量和用户的不断增加，这都使得数据库的运行性能不断下降。DBA必须利用DBMS提供的性能监控和分析工具定期地对数据库的各种性能指标进行检测，以便及早地发现问题并采取相应的优化和改善措施。

3. 数据库的安全性和完整性维护

不管是从企业内部还是从企业外部来讲，数据库的安全性和完整性都是至关重要的。作为数据库的管理者，DBA必须对数据库的安全性和完整性负责。DBA应该认真审核每一个用户的身份，并正确授予相应的权限；随着时间的推移和应用环境的改变，对安全性的要求也随之发生变化，这要求DBA对数据库的安全性控制作出相应的调整，以适应新的情况。类似地，数据库的完整性约束条件也会发生变化，这同样要求DBA作出相应的修正，以满足新的要求。

4. 数据库的重组和重构

　　数据的插入、修改和删除是数据库的基本操作。这些操作的多次使用会使得数据在磁盘上的存储分布越来越散，导致数据的存储效率降低，整个系统性能下降。这时应该对数据库进行重新组织（即重组），以提高系统的性能。现在流行的DBMS一般都提供重组功能。

　　数据库的重构:对数据库的模式和内模式进行调整，如增加或删除某些列和表、增加或删除某些索引、修改数据库的完整性约束条件等，这种调整就是对数据库进行重新构造的过程。

　　数据库重组和数据库重构有着本质的区别：

+ 数据库重组的目的：提高系统的性能，通过DBMS提供的功能对数据库在磁盘上的存储分布进行调整来达到重组的目的，重组不会改变数据库的模式和内模式；
+ 数据库重构的目的：实现新的用户需求，需要修改数据库结构，从而使得数据库的概念模式和内模式也被修改。

　　不是在迫不得以的情况下，不要使用数据库重构。数据库重构不但使数据库结构发生了改变，而且在多数情况下也要求应用程序作出相应的修改。这会导致“牵一发而动全身”的后果，由数据库重构而引起的修改工作量是非常大的。

　　数据库重构并不是“无所不能”，数据库重构可以实现新的用户需求，但这种需求的变化幅度必须限制在一定的范围内。超过这个范围，数据库重构可能无法实现，也可能是实现的代价太高而失去重构的意义。

 