# SQL Server

### 字符串型

　　SQL Server 2014中，字符串型数据可以由汉字、英文字母、数字等符号组成。根据编码方式的不同，字符串型又分为Unicode字符串型和非Unicode字符串型。

　　Unicode字符串型数据是指对所有字符均采用双字（16bit）节统一编码的一类数据；

　　非Unicode字符串型数据则是指对不同国家或地区采用不同编码长度的一类数据，例如英文字母使用一个字节（8bit）进行编码，汉字则使用两个字节（16bit）进行编码。

　　SQL Server 2014主要支持的字符串型数据类型如表5.2所示。

 ![img](https://img2018.cnblogs.com/blog/1427277/201906/1427277-20190620195403158-2107651175.png) 

>定长和变长，变长自动加空格，搜原来搜不到

 

**String 类型：**

| 数据类型       | 描述                                                 | 存储                      |
| -------------- | ---------------------------------------------------- | ------------------------- |
| char(n)        | 固定长度的字符串。最多 8,000 个字符。                | Defined width             |
| varchar(n)     | 可变长度的字符串。最多 8,000 个字符。                | 2 bytes + number of chars |
| varchar(max)   | 可变长度的字符串。最多 1,073,741,824 个字符。        | 2 bytes + number of chars |
| text           | 可变长度的字符串。最多 2GB 文本数据。                | 4 bytes + number of chars |
| nchar          | 固定长度的 Unicode 字符串。最多 4,000 个字符。       | Defined width x 2         |
| nvarchar       | 可变长度的 Unicode 字符串。最多 4,000 个字符。       |                           |
| nvarchar(max)  | 可变长度的 Unicode 字符串。最多 536,870,912 个字符。 |                           |
| ntext          | 可变长度的 Unicode 字符串。最多 2GB 文本数据。       |                           |
| bit            | 允许 0、1 或 NULL                                    |                           |
| binary(n)      | 固定长度的二进制字符串。最多 8,000 字节。            |                           |
| varbinary      | 可变长度的二进制字符串。最多 8,000 字节。            |                           |
| varbinary(max) | 可变长度的二进制字符串。最多 2GB。                   |                           |
| image          | 可变长度的二进制字符串。最多 2GB。                   |                           |

 ```
字符型
字符型数据用于存储字符串，字符串中可包括字母、数字和其他特殊符号（如#、@、&等）。在输入字符串时，需将串中的符号用单引号或双引号括起来，如'abc'、"Abc<Cde"。

SQL Server 2008字符型包括两类：固定长度（char）或可变长度（varchar）字符数据类型。

char[(n)]：定长字符数据类型，其中，n定义字符型数据的长度，n在1～8000之间，默认为1。当表中的列定义为char(n)类型时，若实际存储的串长度不足n，则在串的尾部添加空格以达到长度n，所以char(n)的长度为n。例如，某列的数据类型为char(20)，而输入的字符串为"ahjm1922"，则存储的是字符ahjm1922和12个空格。若输入的字符个数超出了n，则超出的部分被截断。

varchar[(n)]：变长字符数据类型，其中，n的规定与定长字符型char中的n完全相同，但这里n表示的是字符串可达到的最大长度。




Unicode字符型

Unicode是统一字符编码标准，用于支持国际上非英语语种的字符数据的存储和处理。SQL Server的Unicode字符型可以存储Unicode标准字符集定义的各种字符。

Unicode字符型包括nchar[(n)]和nvarchar[(n)]两类。nchar是固定长度Unicode数据的数据类型，nvarchar是可变长度Unicode数据的数据类型，二者均使用UNICODE UCS-2字符集。

nchar[(n)]：nchar[(n)]为包含n个字符的固定长度Unicode字符型数据，n的值在1～4 000之间，长度为2n字节。若输入的字符串长度不足n，将以空白字符补足。

nvarchar[(n)]：nvarchar[(n)]为最多包含n个字符的可变长度Unicode字符型数据，n的值在1～4 000之间，默认为1。长度是所输入字符个数的两倍。
 ```

